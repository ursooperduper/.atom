Object.defineProperty(exports, '__esModule', {
	value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _eventKit = require('event-kit');

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _reactDomPragma = require('react-dom-pragma');

var _reactDomPragma2 = _interopRequireDefault(_reactDomPragma);

var _lazyReq = require('lazy-req');

var _lazyReq2 = _interopRequireDefault(_lazyReq);

'use babel';

var lazyReq = (0, _lazyReq2['default'])(require);
var lodash = lazyReq('lodash');
var jshint = lazyReq('jshint');
var jsxhint = lazyReq('jshint-jsx');
var cli = lazyReq('jshint/src/cli');
var loadConfig = lazyReq('./load-config');
var plugin = {};
var markersByEditorId = {};
var errorsByEditorId = {};

var subscriptionTooltips = new _eventKit.CompositeDisposable();
var subscriptionEvents = new _eventKit.CompositeDisposable();

var _ = undefined;

var SUPPORTED_GRAMMARS = ['source.js', 'source.jsx', 'source.js.jsx'];

var currentLine = undefined;
var currentChar = undefined;

var goToError = function goToError() {
	var editor = atom.workspace.getActiveTextEditor();

	if (!editor || !currentLine || !currentChar) {
		return;
	}

	editor.setCursorBufferPosition([currentLine - 1, currentChar - 1]);
};

var jsHintStatusBar = document.createElement('a');
jsHintStatusBar.setAttribute('id', 'jshint-statusbar');
jsHintStatusBar.classList.add('inline-block');
jsHintStatusBar.addEventListener('click', goToError);

var updateStatusText = function updateStatusText(line, character, reason) {
	jsHintStatusBar.textContent = line && character && reason ? 'JSHint ' + line + ':' + character + ' ' + reason : '';
	currentLine = line;
	currentChar = character;
};

var getMarkersForEditor = function getMarkersForEditor(editor) {
	if (editor && markersByEditorId[editor.id]) {
		return markersByEditorId[editor.id];
	}

	return {};
};

var getErrorsForEditor = function getErrorsForEditor(editor) {
	if (errorsByEditorId[editor.id]) {
		return errorsByEditorId[editor.id];
	}

	return [];
};

var destroyMarkerAtRow = function destroyMarkerAtRow(editor, row) {
	if (markersByEditorId[editor.id] && markersByEditorId[editor.id][row]) {
		markersByEditorId[editor.id][row].destroy();
		delete markersByEditorId[editor.id][row];
	}
};

var getRowForError = function getRowForError(error) {
	// JSHint reports `line: 0` when config error
	var line = error[0].line || 1;

	var row = line - 1;

	return row;
};

var clearOldMarkers = function clearOldMarkers(editor, errors) {
	subscriptionTooltips.dispose();
	subscriptionTooltips = new _eventKit.CompositeDisposable();

	var rows = _.map(errors, function (error) {
		return getRowForError(error);
	});

	var oldMarkers = getMarkersForEditor(editor);
	_.each(_.keys(oldMarkers), function (row) {
		if (!_.contains(rows, row)) {
			destroyMarkerAtRow(editor, row);
		}
	});
};

var saveMarker = function saveMarker(editor, marker, row) {
	if (!markersByEditorId[editor.id]) {
		markersByEditorId[editor.id] = {};
	}

	markersByEditorId[editor.id][row] = marker;
};

var getMarkerAtRow = function getMarkerAtRow(editor, row) {
	if (!markersByEditorId[editor.id]) {
		return null;
	}

	return markersByEditorId[editor.id][row];
};

var updateStatusbar = function updateStatusbar() {
	var statusBar = atom.views.getView(atom.workspace).querySelector('.status-bar');

	if (!statusBar) {
		return;
	}

	if (!jsHintStatusBar.parentNode) {
		statusBar.addLeftTile({ item: jsHintStatusBar });
	}

	var editor = atom.workspace.getActiveTextEditor();

	if (!editor || !errorsByEditorId[editor.id]) {
		updateStatusText();
		return;
	}

	var line = editor.getCursorBufferPosition().row + 1;
	var error = errorsByEditorId[editor.id][line] || _.first(_.compact(errorsByEditorId[editor.id]));
	error = Array.isArray(error) ? error[0] : {};

	updateStatusText(error.line, error.character, error.reason);
};

var goToNextError = function goToNextError() {
	var editor = atom.workspace.getActiveTextEditor();

	if (!editor || !markersByEditorId[editor.id] || !errorsByEditorId[editor.id]) {
		return;
	}

	var cursorRow = editor.getCursorBufferPosition().row;

	var markerRows = _.sortBy(_.map(_.keys(getMarkersForEditor(editor)), function (x) {
		return Number(x);
	}));
	var nextRow = _.find(markerRows, function (x) {
		return x > cursorRow;
	});
	if (!nextRow) {
		nextRow = _.first(markerRows);
	}
	if (!nextRow) {
		return;
	}

	var errors = errorsByEditorId[editor.id][nextRow + 1];
	if (errors) {
		editor.setCursorBufferPosition([nextRow, errors[0].character - 1]);
	}
};

var getReasonsForError = function getReasonsForError(error) {
	return _.map(error, function (el) {
		return el.character + ': ' + el.reason;
	});
};

var addReasons = function addReasons(editor, marker, error) {
	var row = getRowForError(error);
	var editorElement = atom.views.getView(editor);
	var reasons = '<div class="jshint-errors">' + getReasonsForError(error).join('<br>') + '</div>';
	var target = editorElement.shadowRoot.querySelectorAll('.jshint-line-number.line-number-' + row);
	var tooltip = atom.tooltips.add(target, {
		title: reasons,
		placement: 'bottom',
		delay: { show: 200 }
	});

	subscriptionTooltips.add(tooltip);
};

var displayError = function displayError(editor, err) {
	var row = getRowForError(err);

	if (getMarkerAtRow(editor, row)) {
		return;
	}

	var marker = editor.markBufferRange([[row, 0], [row, 1]]);
	editor.decorateMarker(marker, { type: 'line', 'class': 'jshint-line' });
	editor.decorateMarker(marker, { type: 'line-number', 'class': 'jshint-line-number' });
	saveMarker(editor, marker, row);
	addReasons(editor, marker, err);
};

var displayErrors = function displayErrors(editor) {
	var errors = _.compact(getErrorsForEditor(editor));
	clearOldMarkers(editor, errors);
	updateStatusbar();
	_.each(errors, function (err) {
		return displayError(editor, err);
	});
};

var removeMarkersForEditorId = function removeMarkersForEditorId(id) {
	if (markersByEditorId[id]) {
		delete markersByEditorId[id];
	}
};

var removeErrorsForEditorId = function removeErrorsForEditorId(id) {
	if (errorsByEditorId[id]) {
		delete errorsByEditorId[id];
	}
};

var lint = function lint() {
	var editor = atom.workspace.getActiveTextEditor();

	if (!editor) {
		return;
	}

	if (SUPPORTED_GRAMMARS.indexOf(editor.getGrammar().scopeName) === -1) {
		return;
	}

	var file = editor.getURI();

	// Hack to make JSHint look for .jshintignore in the correct dir
	// Because JSHint doesn't use its `cwd` option
	process.chdir(_path2['default'].dirname(file));

	// Remove errors and don't lint if file is ignored in .jshintignore
	if (file && cli().gather({ args: [file] }).length === 0) {
		removeErrorsForEditorId(editor.id);
		displayErrors(editor);
		removeMarkersForEditorId(editor.id);
		return;
	}

	var config = file ? loadConfig()(file) : {};
	var linter = atom.config.get('jshint.supportLintingJsx') || atom.config.get('jshint.transformJsx') ? jsxhint().JSXHINT : jshint().JSHINT;

	if (Object.keys(config).length === 0 && atom.config.get('jshint.onlyConfig')) {
		return;
	}

	var origCode = editor.getText();
	var grammarScope = editor.getGrammar().scopeName;
	var isJsx = grammarScope === 'source.jsx' || grammarScope === 'source.js.jsx';
	var code = isJsx ? (0, _reactDomPragma2['default'])(origCode) : origCode;
	var pragmaWasAdded = code !== origCode;

	try {
		linter(code, config, config.globals);
	} catch (err) {}

	removeErrorsForEditorId(editor.id);

	// workaround the errors array sometimes containing `null`
	var errors = _.compact(linter.errors);

	if (errors.length > 0) {
		(function () {
			// aggregate same-line errors
			var ret = [];
			_.each(errors, function (el) {
				if (pragmaWasAdded) {
					el.line--;
				}

				var l = el.line;

				if (Array.isArray(ret[l])) {
					ret[l].push(el);

					ret[l] = _.sortBy(ret[l], function (el) {
						return el.character;
					});
				} else {
					ret[l] = [el];
				}
			});

			errorsByEditorId[editor.id] = ret;
		})();
	}

	displayErrors(editor);
};

var debouncedLint = null;
var debouncedDisplayErrors = null;
var debouncedUpdateStatusbar = null;

var registerEvents = function registerEvents() {
	subscriptionEvents.dispose();
	subscriptionEvents = new _eventKit.CompositeDisposable();

	updateStatusbar();

	var editor = atom.workspace.getActiveTextEditor();
	if (!editor) {
		return;
	}

	displayErrors(editor);

	if (!atom.config.get('jshint.validateOnlyOnSave')) {
		subscriptionEvents.add(editor.onDidChange(debouncedLint));
		debouncedLint();
	}

	subscriptionEvents.add(editor.onDidSave(debouncedLint));
	subscriptionEvents.add(editor.onDidChangeScrollTop(function () {
		return debouncedDisplayErrors(editor);
	}));
	subscriptionEvents.add(editor.onDidChangeCursorPosition(debouncedUpdateStatusbar));

	subscriptionEvents.add(editor.onDidDestroy(function () {
		removeErrorsForEditorId(editor.id);
		displayErrors(editor);
		removeMarkersForEditorId(editor.id);
	}));
};

var config = plugin.config = {
	onlyConfig: {
		type: 'boolean',
		'default': false,
		description: 'Disable linter if there is no config file found for the linter.'
	},
	validateOnlyOnSave: {
		type: 'boolean',
		'default': false
	},
	supportLintingJsx: {
		type: 'boolean',
		'default': false,
		title: 'Support Linting JSX'
	}
};

exports.config = config;
var subscriptionMain = null;

var activate = plugin.activate = function () {
	_ = lodash();
	debouncedLint = _.debounce(lint, 200);
	debouncedDisplayErrors = _.debounce(displayErrors, 200);
	debouncedUpdateStatusbar = _.debounce(updateStatusbar, 100);

	subscriptionMain = new _eventKit.CompositeDisposable();
	subscriptionMain.add(atom.workspace.observeActivePaneItem(registerEvents));
	subscriptionMain.add(atom.config.observe('jshint.validateOnlyOnSave', registerEvents));
	subscriptionMain.add(atom.commands.add('atom-workspace', 'jshint:lint', lint));
	subscriptionMain.add(atom.commands.add('atom-workspace', 'jshint:go-to-error', goToError));
	subscriptionMain.add(atom.commands.add('atom-workspace', 'jshint:go-to-next-error', goToNextError));
};

exports.activate = activate;
var deactivate = plugin.deactivate = function () {
	subscriptionTooltips.dispose();
	subscriptionEvents.dispose();
	subscriptionMain.dispose();
};

exports.deactivate = deactivate;
exports['default'] = plugin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zYXJhaC8uYXRvbS9wYWNrYWdlcy9qc2hpbnQvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O3dCQUNrQyxXQUFXOztvQkFDNUIsTUFBTTs7Ozs4QkFDSSxrQkFBa0I7Ozs7dUJBQ3JCLFVBQVU7Ozs7QUFKbEMsV0FBVyxDQUFDOztBQU1aLElBQU0sT0FBTyxHQUFHLDBCQUFZLE9BQU8sQ0FBQyxDQUFDO0FBQ3JDLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNqQyxJQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDakMsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3RDLElBQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBQ3RDLElBQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUM1QyxJQUFNLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDbEIsSUFBTSxpQkFBaUIsR0FBRyxFQUFFLENBQUM7QUFDN0IsSUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7O0FBRTVCLElBQUksb0JBQW9CLEdBQUcsbUNBQXlCLENBQUM7QUFDckQsSUFBSSxrQkFBa0IsR0FBRyxtQ0FBeUIsQ0FBQzs7QUFFbkQsSUFBSSxDQUFDLFlBQUEsQ0FBQzs7QUFFTixJQUFNLGtCQUFrQixHQUFHLENBQzFCLFdBQVcsRUFDWCxZQUFZLEVBQ1osZUFBZSxDQUNmLENBQUM7O0FBRUYsSUFBSSxXQUFXLFlBQUEsQ0FBQztBQUNoQixJQUFJLFdBQVcsWUFBQSxDQUFDOztBQUVoQixJQUFNLFNBQVMsR0FBRyxTQUFaLFNBQVMsR0FBUztBQUN2QixLQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLG1CQUFtQixFQUFFLENBQUM7O0FBRXBELEtBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxXQUFXLElBQUksQ0FB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QUFDO0FBQy9FLGlCQUFnQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxvQkFBb0IsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDO0FBQzNGLGlCQUFnQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSx5QkFBeUIsRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDO0NBQ3BHLENBQUM7OztBQUVLLElBQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsWUFBTTtBQUNuRCxxQkFBb0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUMvQixtQkFBa0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUM3QixpQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsQ0FBQztDQUMzQixDQUFDOzs7cUJBRWEsTUFBTSIsImZpbGUiOiIvVXNlcnMvc2FyYWgvLmF0b20vcGFja2FnZXMvanNoaW50L2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG5pbXBvcnQge0NvbXBvc2l0ZURpc3Bvc2FibGV9IGZyb20gJ2V2ZW50LWtpdCc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCByZWFjdERvbVByYWdtYSBmcm9tICdyZWFjdC1kb20tcHJhZ21hJztcbmltcG9ydCBsYXp5UmVxdWlyZSBmcm9tICdsYXp5LXJlcSc7XG5cbmNvbnN0IGxhenlSZXEgPSBsYXp5UmVxdWlyZShyZXF1aXJlKTtcbmNvbnN0IGxvZGFzaCA9IGxhenlSZXEoJ2xvZGFzaCcpO1xuY29uc3QganNoaW50ID0gbGF6eVJlcSgnanNoaW50Jyk7XG5jb25zdCBqc3hoaW50ID0gbGF6eVJlcSgnanNoaW50LWpzeCcpO1xuY29uc3QgY2xpID0gbGF6eVJlcSgnanNoaW50L3NyYy9jbGknKTtcbmNvbnN0IGxvYWRDb25maWcgPSBsYXp5UmVxKCcuL2xvYWQtY29uZmlnJyk7XG5jb25zdCBwbHVnaW4gPSB7fTtcbmNvbnN0IG1hcmtlcnNCeUVkaXRvcklkID0ge307XG5jb25zdCBlcnJvcnNCeUVkaXRvcklkID0ge307XG5cbmxldCBzdWJzY3JpcHRpb25Ub29sdGlwcyA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKCk7XG5sZXQgc3Vic2NyaXB0aW9uRXZlbnRzID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUoKTtcblxubGV0IF87XG5cbmNvbnN0IFNVUFBPUlRFRF9HUkFNTUFSUyA9IFtcblx0J3NvdXJjZS5qcycsXG5cdCdzb3VyY2UuanN4Jyxcblx0J3NvdXJjZS5qcy5qc3gnXG5dO1xuXG5sZXQgY3VycmVudExpbmU7XG5sZXQgY3VycmVudENoYXI7XG5cbmNvbnN0IGdvVG9FcnJvciA9ICgpID0+IHtcblx0Y29uc3QgZWRpdG9yID0gYXRvbS53b3Jrc3BhY2UuZ2V0QWN0aXZlVGV4dEVkaXRvcigpO1xuXG5cdGlmICghZWRpdG9yIHx8ICFjdXJyZW50TGluZSB8fCAhY3VycmVudENoYXIpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oW2N1cnJlbnRMaW5lIC0gMSwgY3VycmVudENoYXIgLSAxXSk7XG59O1xuXG5jb25zdCBqc0hpbnRTdGF0dXNCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG5qc0hpbnRTdGF0dXNCYXIuc2V0QXR0cmlidXRlKCdpZCcsICdqc2hpbnQtc3RhdHVzYmFyJyk7XG5qc0hpbnRTdGF0dXNCYXIuY2xhc3NMaXN0LmFkZCgnaW5saW5lLWJsb2NrJyk7XG5qc0hpbnRTdGF0dXNCYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnb1RvRXJyb3IpO1xuXG5jb25zdCB1cGRhdGVTdGF0dXNUZXh0ID0gKGxpbmUsIGNoYXJhY3RlciwgcmVhc29uKSA9PiB7XG5cdGpzSGludFN0YXR1c0Jhci50ZXh0Q29udGVudCA9IGxpbmUgJiYgY2hhcmFjdGVyICYmIHJlYXNvbiA/IGBKU0hpbnQgJHtsaW5lfToke2NoYXJhY3Rlcn0gJHtyZWFzb259YCA6ICcnO1xuXHRjdXJyZW50TGluZSA9IGxpbmU7XG5cdGN1cnJlbnRDaGFyID0gY2hhcmFjdGVyO1xufTtcblxuY29uc3QgZ2V0TWFya2Vyc0ZvckVkaXRvciA9IGVkaXRvciA9PiB7XG5cdGlmIChlZGl0b3IgJiYgbWFya2Vyc0J5RWRpdG9ySWRbZWRpdG9yLmlkXSkge1xuXHRcdHJldHVybiBtYXJrZXJzQnlFZGl0b3JJZFtlZGl0b3IuaWRdO1xuXHR9XG5cblx0cmV0dXJuIHt9O1xufTtcblxuY29uc3QgZ2V0RXJyb3JzRm9yRWRpdG9yID0gZWRpdG9yID0+IHtcblx0aWYgKGVycm9yc0J5RWRpdG9ySWRbZWRpdG9yLmlkXSkge1xuXHRcdHJldHVybiBlcnJvcnNCeUVkaXRvcklkW2VkaXRvci5pZF07XG5cdH1cblxuXHRyZXR1cm4gW107XG59O1xuXG5jb25zdCBkZXN0cm95TWFya2VyQXRSb3cgPSAoZWRpdG9yLCByb3cpID0+IHtcblx0aWYgKG1hcmtlcnNCeUVkaXRvcklkW2VkaXRvci5pZF0gJiYgbWFya2Vyc0J5RWRpdG9ySWRbZWRpdG9yLmlkXVtyb3ddKSB7XG5cdFx0bWFya2Vyc0J5RWRpdG9ySWRbZWRpdG9yLmlkXVtyb3ddLmRlc3Ryb3koKTtcblx0XHRkZWxldGUgbWFya2Vyc0J5RWRpdG9ySWRbZWRpdG9yLmlkXVtyb3ddO1xuXHR9XG59O1xuXG5jb25zdCBnZXRSb3dGb3JFcnJvciA9IGVycm9yID0+IHtcblx0Ly8gSlNIaW50IHJlcG9ydHMgYGxpbmU6IDBgIHdoZW4gY29uZmlnIGVycm9yXG5cdGNvbnN0IGxpbmUgPSBlcnJvclswXS5saW5lIHx8IDE7XG5cblx0Y29uc3Qgcm93ID0gbGluZSAtIDE7XG5cblx0cmV0dXJuIHJvdztcbn07XG5cbmNvbnN0IGNsZWFyT2xkTWFya2VycyA9IChlZGl0b3IsIGVycm9ycykgPT4ge1xuXHRzdWJzY3JpcHRpb25Ub29sdGlwcy5kaXNwb3NlKCk7XG5cdHN1YnNjcmlwdGlvblRvb2x0aXBzID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUoKTtcblxuXHRjb25zdCByb3dzID0gXy5tYXAoZXJyb3JzLCBlcnJvciA9PiBnZXRSb3dGb3JFcnJvcihlcnJvcikpO1xuXG5cdGNvbnN0IG9sZE1hcmtlcnMgPSBnZXRNYXJrZXJzRm9yRWRpdG9yKGVkaXRvcik7XG5cdF8uZWFjaChfLmtleXMob2xkTWFya2VycyksIHJvdyA9PiB7XG5cdFx0aWYgKCFfLmNvbnRhaW5zKHJvd3MsIHJvdykpIHtcblx0XHRcdGRlc3Ryb3lNYXJrZXJBdFJvdyhlZGl0b3IsIHJvdyk7XG5cdFx0fVxuXHR9KTtcbn07XG5cbmNvbnN0IHNhdmVNYXJrZXIgPSAoZWRpdG9yLCBtYXJrZXIsIHJvdykgPT4ge1xuXHRpZiAoIW1hcmtlcnNCeUVkaXRvcklkW2VkaXRvci5pZF0pIHtcblx0XHRtYXJrZXJzQnlFZGl0b3JJZFtlZGl0b3IuaWRdID0ge307XG5cdH1cblxuXHRtYXJrZXJzQnlFZGl0b3JJZFtlZGl0b3IuaWRdW3Jvd10gPSBtYXJrZXI7XG59O1xuXG5jb25zdCBnZXRNYXJrZXJBdFJvdyA9IChlZGl0b3IsIHJvdykgPT4ge1xuXHRpZiAoIW1hcmtlcnNCeUVkaXRvcklkW2VkaXRvci5pZF0pIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBtYXJrZXJzQnlFZGl0b3JJZFtlZGl0b3IuaWRdW3Jvd107XG59O1xuXG5jb25zdCB1cGRhdGVTdGF0dXNiYXIgPSAoKSA9PiB7XG5cdGNvbnN0IHN0YXR1c0JhciA9IGF0b20udmlld3MuZ2V0VmlldyhhdG9tLndvcmtzcGFjZSkucXVlcnlTZWxlY3RvcignLnN0YXR1cy1iYXInKTtcblxuXHRpZiAoIXN0YXR1c0Jhcikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmICghanNIaW50U3RhdHVzQmFyLnBhcmVudE5vZGUpIHtcblx0XHRzdGF0dXNCYXIuYWRkTGVmdFRpbGUoe2l0ZW06IGpzSGludFN0YXR1c0Jhcn0pO1xuXHR9XG5cblx0Y29uc3QgZWRpdG9yID0gYXRvbS53b3Jrc3BhY2UuZ2V0QWN0aXZlVGV4dEVkaXRvcigpO1xuXG5cdGlmICghZWRpdG9yIHx8ICFlcnJvcnNCeUVkaXRvcklkW2VkaXRvci5pZF0pIHtcblx0XHR1cGRhdGVTdGF0dXNUZXh0KCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgbGluZSA9IGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpLnJvdyArIDE7XG5cdGxldCBlcnJvciA9IGVycm9yc0J5RWRpdG9ySWRbZWRpdG9yLmlkXVtsaW5lXSB8fCBfLmZpcnN0KF8uY29tcGFjdChlcnJvcnNCeUVkaXRvcklkW2VkaXRvci5pZF0pKTtcblx0ZXJyb3IgPSBBcnJheS5pc0FycmF5KGVycm9yKSA/IGVycm9yWzBdIDoge307XG5cblx0dXBkYXRlU3RhdHVzVGV4dChlcnJvci5saW5lLCBlcnJvci5jaGFyYWN0ZXIsIGVycm9yLnJlYXNvbik7XG59O1xuXG5jb25zdCBnb1RvTmV4dEVycm9yID0gKCkgPT4ge1xuXHRjb25zdCBlZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKCk7XG5cblx0aWYgKCFlZGl0b3IgfHwgIW1hcmtlcnNCeUVkaXRvcklkW2VkaXRvci5pZF0gfHwgIWVycm9yc0J5RWRpdG9ySWRbZWRpdG9yLmlkXSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IGN1cnNvclJvdyA9IGVkaXRvci5nZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpLnJvdztcblxuXHRjb25zdCBtYXJrZXJSb3dzID0gXy5zb3J0QnkoXy5tYXAoXy5rZXlzKGdldE1hcmtlcnNGb3JFZGl0b3IoZWRpdG9yKSksIHggPT4gTnVtYmVyKHgpKSk7XG5cdGxldCBuZXh0Um93ID0gXy5maW5kKG1hcmtlclJvd3MsIHggPT4geCA+IGN1cnNvclJvdyk7XG5cdGlmICghbmV4dFJvdykge1xuXHRcdG5leHRSb3cgPSBfLmZpcnN0KG1hcmtlclJvd3MpO1xuXHR9XG5cdGlmICghbmV4dFJvdykge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IGVycm9ycyA9IGVycm9yc0J5RWRpdG9ySWRbZWRpdG9yLmlkXVtuZXh0Um93ICsgMV07XG5cdGlmIChlcnJvcnMpIHtcblx0XHRlZGl0b3Iuc2V0Q3Vyc29yQnVmZmVyUG9zaXRpb24oW25leHRSb3csIGVycm9yc1swXS5jaGFyYWN0ZXIgLSAxXSk7XG5cdH1cbn07XG5cbmNvbnN0IGdldFJlYXNvbnNGb3JFcnJvciA9IGVycm9yID0+IHtcblx0cmV0dXJuIF8ubWFwKGVycm9yLCBlbCA9PiBgJHtlbC5jaGFyYWN0ZXJ9OiAke2VsLnJlYXNvbn1gKTtcbn07XG5cbmNvbnN0IGFkZFJlYXNvbnMgPSAoZWRpdG9yLCBtYXJrZXIsIGVycm9yKSA9PiB7XG5cdGNvbnN0IHJvdyA9IGdldFJvd0ZvckVycm9yKGVycm9yKTtcblx0Y29uc3QgZWRpdG9yRWxlbWVudCA9IGF0b20udmlld3MuZ2V0VmlldyhlZGl0b3IpO1xuXHRjb25zdCByZWFzb25zID0gYDxkaXYgY2xhc3M9XCJqc2hpbnQtZXJyb3JzXCI+JHtnZXRSZWFzb25zRm9yRXJyb3IoZXJyb3IpLmpvaW4oJzxicj4nKX08L2Rpdj5gO1xuXHRjb25zdCB0YXJnZXQgPSBlZGl0b3JFbGVtZW50LnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvckFsbChgLmpzaGludC1saW5lLW51bWJlci5saW5lLW51bWJlci0ke3Jvd31gKTtcblx0Y29uc3QgdG9vbHRpcCA9IGF0b20udG9vbHRpcHMuYWRkKHRhcmdldCwge1xuXHRcdHRpdGxlOiByZWFzb25zLFxuXHRcdHBsYWNlbWVudDogJ2JvdHRvbScsXG5cdFx0ZGVsYXk6IHtzaG93OiAyMDB9XG5cdH0pO1xuXG5cdHN1YnNjcmlwdGlvblRvb2x0aXBzLmFkZCh0b29sdGlwKTtcbn07XG5cbmNvbnN0IGRpc3BsYXlFcnJvciA9IChlZGl0b3IsIGVycikgPT4ge1xuXHRjb25zdCByb3cgPSBnZXRSb3dGb3JFcnJvcihlcnIpO1xuXG5cdGlmIChnZXRNYXJrZXJBdFJvdyhlZGl0b3IsIHJvdykpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRjb25zdCBtYXJrZXIgPSBlZGl0b3IubWFya0J1ZmZlclJhbmdlKFtbcm93LCAwXSwgW3JvdywgMV1dKTtcblx0ZWRpdG9yLmRlY29yYXRlTWFya2VyKG1hcmtlciwge3R5cGU6ICdsaW5lJywgY2xhc3M6ICdqc2hpbnQtbGluZSd9KTtcblx0ZWRpdG9yLmRlY29yYXRlTWFya2VyKG1hcmtlciwge3R5cGU6ICdsaW5lLW51bWJlcicsIGNsYXNzOiAnanNoaW50LWxpbmUtbnVtYmVyJ30pO1xuXHRzYXZlTWFya2VyKGVkaXRvciwgbWFya2VyLCByb3cpO1xuXHRhZGRSZWFzb25zKGVkaXRvciwgbWFya2VyLCBlcnIpO1xufTtcblxuY29uc3QgZGlzcGxheUVycm9ycyA9IGVkaXRvciA9PiB7XG5cdGNvbnN0IGVycm9ycyA9IF8uY29tcGFjdChnZXRFcnJvcnNGb3JFZGl0b3IoZWRpdG9yKSk7XG5cdGNsZWFyT2xkTWFya2VycyhlZGl0b3IsIGVycm9ycyk7XG5cdHVwZGF0ZVN0YXR1c2JhcigpO1xuXHRfLmVhY2goZXJyb3JzLCBlcnIgPT4gZGlzcGxheUVycm9yKGVkaXRvciwgZXJyKSk7XG59O1xuXG5jb25zdCByZW1vdmVNYXJrZXJzRm9yRWRpdG9ySWQgPSBpZCA9PiB7XG5cdGlmIChtYXJrZXJzQnlFZGl0b3JJZFtpZF0pIHtcblx0XHRkZWxldGUgbWFya2Vyc0J5RWRpdG9ySWRbaWRdO1xuXHR9XG59O1xuXG5jb25zdCByZW1vdmVFcnJvcnNGb3JFZGl0b3JJZCA9IGlkID0+IHtcblx0aWYgKGVycm9yc0J5RWRpdG9ySWRbaWRdKSB7XG5cdFx0ZGVsZXRlIGVycm9yc0J5RWRpdG9ySWRbaWRdO1xuXHR9XG59O1xuXG5jb25zdCBsaW50ID0gKCkgPT4ge1xuXHRjb25zdCBlZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKCk7XG5cblx0aWYgKCFlZGl0b3IpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAoU1VQUE9SVEVEX0dSQU1NQVJTLmluZGV4T2YoZWRpdG9yLmdldEdyYW1tYXIoKS5zY29wZU5hbWUpID09PSAtMSkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IGZpbGUgPSBlZGl0b3IuZ2V0VVJJKCk7XG5cblx0Ly8gSGFjayB0byBtYWtlIEpTSGludCBsb29rIGZvciAuanNoaW50aWdub3JlIGluIHRoZSBjb3JyZWN0IGRpclxuXHQvLyBCZWNhdXNlIEpTSGludCBkb2Vzbid0IHVzZSBpdHMgYGN3ZGAgb3B0aW9uXG5cdHByb2Nlc3MuY2hkaXIocGF0aC5kaXJuYW1lKGZpbGUpKTtcblxuXHQvLyBSZW1vdmUgZXJyb3JzIGFuZCBkb24ndCBsaW50IGlmIGZpbGUgaXMgaWdub3JlZCBpbiAuanNoaW50aWdub3JlXG5cdGlmIChmaWxlICYmIGNsaSgpLmdhdGhlcih7YXJnczogW2ZpbGVdfSkubGVuZ3RoID09PSAwKSB7XG5cdFx0cmVtb3ZlRXJyb3JzRm9yRWRpdG9ySWQoZWRpdG9yLmlkKTtcblx0XHRkaXNwbGF5RXJyb3JzKGVkaXRvcik7XG5cdFx0cmVtb3ZlTWFya2Vyc0ZvckVkaXRvcklkKGVkaXRvci5pZCk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgY29uZmlnID0gZmlsZSA/IGxvYWRDb25maWcoKShmaWxlKSA6IHt9O1xuXHRjb25zdCBsaW50ZXIgPSAoYXRvbS5jb25maWcuZ2V0KCdqc2hpbnQuc3VwcG9ydExpbnRpbmdKc3gnKSB8fCBhdG9tLmNvbmZpZy5nZXQoJ2pzaGludC50cmFuc2Zvcm1Kc3gnKSkgPyBqc3hoaW50KCkuSlNYSElOVCA6IGpzaGludCgpLkpTSElOVDtcblxuXHRpZiAoT2JqZWN0LmtleXMoY29uZmlnKS5sZW5ndGggPT09IDAgJiYgYXRvbS5jb25maWcuZ2V0KCdqc2hpbnQub25seUNvbmZpZycpKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3Qgb3JpZ0NvZGUgPSBlZGl0b3IuZ2V0VGV4dCgpO1xuXHRjb25zdCBncmFtbWFyU2NvcGUgPSBlZGl0b3IuZ2V0R3JhbW1hcigpLnNjb3BlTmFtZTtcblx0Y29uc3QgaXNKc3ggPSBncmFtbWFyU2NvcGUgPT09ICdzb3VyY2UuanN4JyB8fCBncmFtbWFyU2NvcGUgPT09ICdzb3VyY2UuanMuanN4Jztcblx0Y29uc3QgY29kZSA9IGlzSnN4ID8gcmVhY3REb21QcmFnbWEob3JpZ0NvZGUpIDogb3JpZ0NvZGU7XG5cdGNvbnN0IHByYWdtYVdhc0FkZGVkID0gY29kZSAhPT0gb3JpZ0NvZGU7XG5cblx0dHJ5IHtcblx0XHRsaW50ZXIoY29kZSwgY29uZmlnLCBjb25maWcuZ2xvYmFscyk7XG5cdH0gY2F0Y2ggKGVycikge31cblxuXHRyZW1vdmVFcnJvcnNGb3JFZGl0b3JJZChlZGl0b3IuaWQpO1xuXG5cdC8vIHdvcmthcm91bmQgdGhlIGVycm9ycyBhcnJheSBzb21ldGltZXMgY29udGFpbmluZyBgbnVsbGBcblx0Y29uc3QgZXJyb3JzID0gXy5jb21wYWN0KGxpbnRlci5lcnJvcnMpO1xuXG5cdGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuXHRcdC8vIGFnZ3JlZ2F0ZSBzYW1lLWxpbmUgZXJyb3JzXG5cdFx0Y29uc3QgcmV0ID0gW107XG5cdFx0Xy5lYWNoKGVycm9ycywgZWwgPT4ge1xuXHRcdFx0aWYgKHByYWdtYVdhc0FkZGVkKSB7XG5cdFx0XHRcdGVsLmxpbmUtLTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgbCA9IGVsLmxpbmU7XG5cblx0XHRcdGlmIChBcnJheS5pc0FycmF5KHJldFtsXSkpIHtcblx0XHRcdFx0cmV0W2xdLnB1c2goZWwpO1xuXG5cdFx0XHRcdHJldFtsXSA9IF8uc29ydEJ5KHJldFtsXSwgZWwgPT4gZWwuY2hhcmFjdGVyKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldFtsXSA9IFtlbF07XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRlcnJvcnNCeUVkaXRvcklkW2VkaXRvci5pZF0gPSByZXQ7XG5cdH1cblxuXHRkaXNwbGF5RXJyb3JzKGVkaXRvcik7XG59O1xuXG5sZXQgZGVib3VuY2VkTGludCA9IG51bGw7XG5sZXQgZGVib3VuY2VkRGlzcGxheUVycm9ycyA9IG51bGw7XG5sZXQgZGVib3VuY2VkVXBkYXRlU3RhdHVzYmFyID0gbnVsbDtcblxuY29uc3QgcmVnaXN0ZXJFdmVudHMgPSAoKSA9PiB7XG5cdHN1YnNjcmlwdGlvbkV2ZW50cy5kaXNwb3NlKCk7XG5cdHN1YnNjcmlwdGlvbkV2ZW50cyA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKCk7XG5cblx0dXBkYXRlU3RhdHVzYmFyKCk7XG5cblx0Y29uc3QgZWRpdG9yID0gYXRvbS53b3Jrc3BhY2UuZ2V0QWN0aXZlVGV4dEVkaXRvcigpO1xuXHRpZiAoIWVkaXRvcikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGRpc3BsYXlFcnJvcnMoZWRpdG9yKTtcblxuXHRpZiAoIWF0b20uY29uZmlnLmdldCgnanNoaW50LnZhbGlkYXRlT25seU9uU2F2ZScpKSB7XG5cdFx0c3Vic2NyaXB0aW9uRXZlbnRzLmFkZChlZGl0b3Iub25EaWRDaGFuZ2UoZGVib3VuY2VkTGludCkpO1xuXHRcdGRlYm91bmNlZExpbnQoKTtcblx0fVxuXG5cdHN1YnNjcmlwdGlvbkV2ZW50cy5hZGQoZWRpdG9yLm9uRGlkU2F2ZShkZWJvdW5jZWRMaW50KSk7XG5cdHN1YnNjcmlwdGlvbkV2ZW50cy5hZGQoZWRpdG9yLm9uRGlkQ2hhbmdlU2Nyb2xsVG9wKCgpID0+IGRlYm91bmNlZERpc3BsYXlFcnJvcnMoZWRpdG9yKSkpO1xuXHRzdWJzY3JpcHRpb25FdmVudHMuYWRkKGVkaXRvci5vbkRpZENoYW5nZUN1cnNvclBvc2l0aW9uKGRlYm91bmNlZFVwZGF0ZVN0YXR1c2JhcikpO1xuXG5cdHN1YnNjcmlwdGlvbkV2ZW50cy5hZGQoZWRpdG9yLm9uRGlkRGVzdHJveSgoKSA9PiB7XG5cdFx0cmVtb3ZlRXJyb3JzRm9yRWRpdG9ySWQoZWRpdG9yLmlkKTtcblx0XHRkaXNwbGF5RXJyb3JzKGVkaXRvcik7XG5cdFx0cmVtb3ZlTWFya2Vyc0ZvckVkaXRvcklkKGVkaXRvci5pZCk7XG5cdH0pKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBwbHVnaW4uY29uZmlnID0ge1xuXHRvbmx5Q29uZmlnOiB7XG5cdFx0dHlwZTogJ2Jvb2xlYW4nLFxuXHRcdGRlZmF1bHQ6IGZhbHNlLFxuXHRcdGRlc2NyaXB0aW9uOiAnRGlzYWJsZSBsaW50ZXIgaWYgdGhlcmUgaXMgbm8gY29uZmlnIGZpbGUgZm91bmQgZm9yIHRoZSBsaW50ZXIuJ1xuXHR9LFxuXHR2YWxpZGF0ZU9ubHlPblNhdmU6IHtcblx0XHR0eXBlOiAnYm9vbGVhbicsXG5cdFx0ZGVmYXVsdDogZmFsc2Vcblx0fSxcblx0c3VwcG9ydExpbnRpbmdKc3g6IHtcblx0XHR0eXBlOiAnYm9vbGVhbicsXG5cdFx0ZGVmYXVsdDogZmFsc2UsXG5cdFx0dGl0bGU6ICdTdXBwb3J0IExpbnRpbmcgSlNYJ1xuXHR9XG59O1xuXG5sZXQgc3Vic2NyaXB0aW9uTWFpbiA9IG51bGw7XG5cbmV4cG9ydCBjb25zdCBhY3RpdmF0ZSA9IHBsdWdpbi5hY3RpdmF0ZSA9ICgpID0+IHtcblx0XyA9IGxvZGFzaCgpO1xuXHRkZWJvdW5jZWRMaW50ID0gXy5kZWJvdW5jZShsaW50LCAyMDApO1xuXHRkZWJvdW5jZWREaXNwbGF5RXJyb3JzID0gXy5kZWJvdW5jZShkaXNwbGF5RXJyb3JzLCAyMDApO1xuXHRkZWJvdW5jZWRVcGRhdGVTdGF0dXNiYXIgPSBfLmRlYm91bmNlKHVwZGF0ZVN0YXR1c2JhciwgMTAwKTtcblxuXHRzdWJzY3JpcHRpb25NYWluID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUoKTtcblx0c3Vic2NyaXB0aW9uTWFpbi5hZGQoYXRvbS53b3Jrc3BhY2Uub2JzZXJ2ZUFjdGl2ZVBhbmVJdGVtKHJlZ2lzdGVyRXZlbnRzKSk7XG5cdHN1YnNjcmlwdGlvbk1haW4uYWRkKGF0b20uY29uZmlnLm9ic2VydmUoJ2pzaGludC52YWxpZGF0ZU9ubHlPblNhdmUnLCByZWdpc3RlckV2ZW50cykpO1xuXHRzdWJzY3JpcHRpb25NYWluLmFkZChhdG9tLmNvbW1hbmRzLmFkZCgnYXRvbS13b3Jrc3BhY2UnLCAnanNoaW50OmxpbnQnLCBsaW50KSk7XG5cdHN1YnNjcmlwdGlvbk1haW4uYWRkKGF0b20uY29tbWFuZHMuYWRkKCdhdG9tLXdvcmtzcGFjZScsICdqc2hpbnQ6Z28tdG8tZXJyb3InLCBnb1RvRXJyb3IpKTtcblx0c3Vic2NyaXB0aW9uTWFpbi5hZGQoYXRvbS5jb21tYW5kcy5hZGQoJ2F0b20td29ya3NwYWNlJywgJ2pzaGludDpnby10by1uZXh0LWVycm9yJywgZ29Ub05leHRFcnJvcikpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlYWN0aXZhdGUgPSBwbHVnaW4uZGVhY3RpdmF0ZSA9ICgpID0+IHtcblx0c3Vic2NyaXB0aW9uVG9vbHRpcHMuZGlzcG9zZSgpO1xuXHRzdWJzY3JpcHRpb25FdmVudHMuZGlzcG9zZSgpO1xuXHRzdWJzY3JpcHRpb25NYWluLmRpc3Bvc2UoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHBsdWdpbjtcbiJdfQ==
//# sourceURL=/Users/sarah/.atom/packages/jshint/index.js
